const ancho_pantalla=$(window).width(),year=(new Date).getFullYear(),alto_cabecera=$("header").outerHeight(!0);$(document).ready((function(){altos_hovers_cartelera(),$("#year").html(year),$(".menu li").click((function(){id=$(this).attr("id"),destino=id.substr(3),smoothScrollTo(destino),$(".menu li").removeClass("active"),$(this).addClass("active"),ancho_pantalla<768&&$(".menu").removeClass("on")})),$("#submit").click((function(){validarContacto()})),$("#abrir_politica").click((function(e){e.stopPropagation(),e.preventDefault(),$("body").addClass("popuped")})),$(".cerrar_popup").click((function(){$("body").removeClass("popuped")})),ancho_pantalla<768?($(".toggle_menu").click((function(){$(".menu").addClass("on")})),$(".cerrar_menu").click((function(){$(".menu").removeClass("on")}))):$(".menu").removeClass("on")})),$(window).on("load",(function(){setTimeout((function(){$(".loader").fadeOut("slow")}),900)})),$(window).scroll((function(event){let scroll=$(window).scrollTop(),opcion="";inicio=0})),$(window).on("orientationchange",(function(){altos_hovers_cartelera()})),$(window).on("resize",(function(){altos_hovers_cartelera()}));const smoothScrollTo=destino=>{scroll="inicio"==destino?0:$("#"+destino).position().top+1,$("html, body").animate({scrollTop:scroll},800)},altos_hovers_cartelera=()=>{$("#cartelera .matriz__v1 .matriz__item").each((function(index){let alto_info=$(this).height()-50,item_info=$(this).children(".matriz__item_info"),alto_title,alto_sessions,alto_duracion,max_alto_sinopsis=alto_info-item_info.children(".title").outerHeight(!0)-item_info.children(".sessions").outerHeight(!0)-item_info.children(".info_line").outerHeight(!0),max_lineas;max_alto_sinopsis=20*Math.floor(max_alto_sinopsis/20)+15,item_info.children(".sinopsis").css("max-height",max_alto_sinopsis+"px")}))},validarContacto=()=>{let nombre=$('#contacto input[name="nombre"]'),telefono=$('#contacto input[name="telefono"]'),email=$('#contacto input[name="email"]'),mensaje=$('#contacto textarea[name="mensaje"]'),politica=$('#contacto input[name="politica"]');""==nombre.val()||nombre.val().length<2?(nombre.addClass("errored"),nombre.parent().append('<span class="error_form">Introduce tu nombre</span>')):nombre.removeClass("errored"),telefono.val().length>0&&telefono.val().length<9?(telefono.addClass("errored"),telefono.parent().append('<span class="error_form">El teléfono no es válido</span>')):telefono.removeClass("errored"),""==email.val()?(email.addClass("errored"),email.parent().append('<span class="error_form">Introduce tu email</span>')):(emailValido=validEmail(email.val()),emailValido.valid?email.removeClass("errored"):(email.parent().append('<span class="error_form">'+emailValido.msg+"</span>"),email.addClass("errored"))),""==mensaje.val()&&mensaje.val().length<5?(mensaje.addClass("errored"),mensaje.parent().append('<span class="error_form">El mensaje es obligatorio (Min. 5 caracteres)</span>')):mensaje.removeClass("errored"),politica.prop("checked")?politica.siblings(".checkbox").removeClass("errored"):politica.siblings(".checkbox").addClass("errored"),$(".error_form").length>0?setTimeout((function(){$(".error_form").remove(),$("#contacto input").removeClass("errored"),$("#contacto textarea").removeClass("errored"),$("#contacto .checkbox").removeClass("errored")}),4e3):$("#form_contacto").submit()},validEmail=email=>{let resp={valid:!0,msg:""};if(email.length<7)resp.valid=!1;else{let index_arroba=email.indexOf("@"),index_punto=email.indexOf(".");if(-1===index_arroba||-1===index_punto)resp.valid=!1;else{let division;-1===email.split("@")[1].indexOf(".")&&(resp.valid=!1)}}return resp.valid||(resp.msg="Email no válido"),resp};